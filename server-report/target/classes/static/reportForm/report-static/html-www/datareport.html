<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>登录页</title>
    <link rel="stylesheet" href="../../../../plugin/page/css/table_orange.css">
    <link rel="stylesheet" type="text/css" href="../../../../trade_base/css/trade_base.css"/>
    <link rel="stylesheet" href="../../../../plugin/select/chosen_blue.css">
    <link rel="stylesheet" href="../css/datareport.css">
    <script src="../../../../base/js/jquery.js"></script>
	<script src="../../../../base/js/public.js"></script>
	<script src="../../../../base/js/docassistant.js"></script>
	<script src="../../../../plugin/select/chosen.jquery.js"></script>
	<script src="../../../../base/js/jquery.cookie.js"></script>
	<script src=../../../../base/js/jquery.cookie.js"></script>
	<script src="../../../../reqConfig.js"></script>
	<!-- <script src="../js/trade_base.js"></script> -->
	<style type="text/css">
		.padding0{
			padding-left:20px;
		}
		.padding1{
			padding-left:40px;
		}
		.padding2{
			padding-left:60px;
		}
		.padding3{
			padding-left:80px;
		}
		.padding4{
			padding-left:100px;
		}
		.padding5{
			padding-left:120px;
		}
		.padding6{
			padding-left:140px;
		}
	</style>
</head>
<body id="outerBody" class="datareport" style="min-width: auto">
	<div class="datareport">
		<div class="datareport-col">
			<div class="datareport-coltit">
				<h1 class="datareport-coltit__tit">授权对象</h1>
				<select name="" id="" class="selectCommom selectBase">
					<option value="">请选择</option>
					<option value="0" selected="selected">用户</option>
				</select>
			</div>
			<div class="datareport-colmain">
				<table class="datareport-treeListTable" t="categoryName" c="dictCategoryDTO" jsonId="categoryId"  id="treeList" treeType="treeList2" templateId="templateTreeRow" treeCell="treeCell" comtype="treeListCtrl">
					<tr class="datareport-treeListTable-tr" id="templateTreeRow" style="display:none;cursor:pointer;">
						<td class="datareport-treeListTable-tr__item">
                            <div id="treeCell">
    							<i class="colmain_icon1"></i>
    							<span class="datareport-treeListTable-tr__inputbox">
    								<i class="colmain_icon2"></i>
    								<!-- <input type="checkbox" class="datareport-treeListTable-tr__input"> -->
    							</span>
    							<i class="colmain_icon03"></i>
    							<span class="datareport-treeListTable-tr__text" id="categoryName"></span>
                            </div>
						</td>
					</tr>
				</table>
			</div>
		</div>
        <div class="datareport-col">
            <div class="datareport-coltit">
                <h1 class="datareport-coltit__tit">数据表资源</h1>
                <!-- <select name="" id="" class="selectCommom selectBase">
                    <option value="">请选择</option>
                    <option value="0" selected="selected">用户</option>
                </select> -->
            </div>
            <div class="datareport-colmain">
                <table class="datareport-treeListTable" t="categoryName" c="dictCategoryDTO" jsonId="categoryId"  id="treeList1" treeType="treeList2" templateId="templateTreeRow" treeCell="treeCell" comtype="treeListCtrl">
                    <tr class="datareport-treeListTable-tr" id="templateTreeRow" style="display:none;cursor:pointer;">
                        <td class="datareport-treeListTable-tr__item">
                            <div id="treeCell">
                                <i class="colmain_icon1"></i>
                                <span class="datareport-treeListTable-tr__inputbox">
                                    <i class="colmain_icon2"></i>
                                    <!-- <input type="checkbox" class="datareport-treeListTable-tr__input"> -->
                                </span>
                                <i class="colmain_icon03"></i>
                                <span class="datareport-treeListTable-tr__text" id="categoryName"></span>
                            </div>
                        </td>
                    </tr>
                </table>
            </div>
        </div>
        <div class="datareport-col datareport-col--nobd">
            <div class="datareport-coltit">
                <h1 class="datareport-coltit__tit">数据资源</h1>
                <!-- <select name="" id="" class="selectCommom selectBase">
                    <option value="">请选择</option>
                    <option value="0" selected="selected">用户</option>
                </select> -->
            </div>
            <div class="datareport-colmain">
                <table class="datareport-treeListTable" t="categoryName" c="dictCategoryDTO" jsonId="categoryId"  id="treeList2" treeType="treeList2" templateId="templateTreeRow" treeCell="treeCell" comtype="treeListCtrl">
                    <tr class="datareport-treeListTable-tr" id="templateTreeRow" style="display:none;cursor:pointer;">
                        <td class="datareport-treeListTable-tr__item">
                            <div id="treeCell">
                                <i class="colmain_icon1"></i>
                                <span class="datareport-treeListTable-tr__inputbox">
                                    <i class="colmain_icon2"></i>
                                    <!-- <input type="checkbox" class="datareport-treeListTable-tr__input"> -->
                                </span>
                                <i class="colmain_icon03"></i>
                                <span class="datareport-treeListTable-tr__text" id="categoryName"></span>
                            </div>
                        </td>
                    </tr>
                </table>
            </div>
        </div>
	</div>
</body>
<script>
	//下拉框
	$(".selectCommom").chosen({
        //disable_search_threshold: 5,
        width:"140px",
        no_results_text: "没有匹配结果!",
        enable_split_word_search: false,
        placeholder_text_single: '请选择'
    });
    function initBefore()
   {

        var jsonPropData = {
            "retCode":"0000000",
            "retDesc":"操作成功!",
            "timestamp":"2018-03-20 13:49:00.302",
            "rspBody":{
                "resultData":[{
                    "categoryId":1,
                    "createTime":1521094594417,
                    "dictCategoryDTO":[{
                        "categoryId":11,
                        "categoryName":"类目名称11",
                        "categoryNamePath":"一级类目",
                        "dictCategoryDTO":[
                            {
                                "categoryId":111,
                                "categoryName":"类目名称111",
                                "categoryNamePath":"二级类目1",
                                
                            },
                            {
                                "categoryId":112,
                                "categoryName":"类目名称112",
                                "categoryNamePath":"二级类目2",
                                
                            }
                        ]
                    }],
                    "iconUrl":"物料图标地址",
                    "materialCode":123,
                    "materialDesc":"物料描述",
                    "materialId":1,
                    "materialName":"物料A",
                    "status":1
                }]
            }
        };

       document.getElementById("treeList").data = jsonPropData;
       document.getElementById("treeList1").data = jsonPropData;
       document.getElementById("treeList2").data = jsonPropData;
   }
	//三级树process
    function clsTreeListCtrl$process(cloneRow, jsonItem,level)
    {
        
        $(cloneRow).find(".colmain_icon1").click(function() {
            if($(this).hasClass("colmain_icon1")) {
                $(this).removeClass("colmain_icon1").addClass("colmain_icon01");
                var childNodes = this.ctrl.jsCtrl.getAllChild(this);
                for(var nI = 0; nI < childNodes.length; nI++) {
                    $(childNodes[nI]).hide();
                }
            } else {
                $(this).removeClass("colmain_icon01").addClass("colmain_icon1");
                // var childNodes = $("#treeList")[0].jsCtrl.getAllChild(this);
                var childNodes = this.ctrl.jsCtrl.getAllChild(this);
                for(var nI = 0; nI < childNodes.length; nI++) {
                    $(childNodes[nI]).show();
                }
            }
        });
    }
	function clsTreeListCtrl$after() {
		// for(var nI = 0; nI < $("*[id='cloneTreeRow']").length; nI++) {
  //           var cloneRow = $("*[id='cloneTreeRow']")[nI];
  //           if(cloneRow.getAttribute("level") != 0)
  //               $(cloneRow).hide();
  //           else
  //               $(cloneRow).find(".colmain_icon1").removeClass("colmain_icon1").addClass("colmain_icon01");
    
  //       }
  //       var leafRowList = this.getAllLeafNode();
  //       for(var nI = 0; nI < leafRowList.length; nI++) {
  //           $(leafRowList[nI]).find(".colmain_icon1").removeClass("colmain_icon1").addClass("colmain_icon01");
  //       }
	}
</script>
</html>